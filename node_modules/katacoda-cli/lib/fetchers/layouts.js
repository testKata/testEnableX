"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var rp = require('request-promise');
const config_1 = require("../config");
const constants_1 = require("../helpers/constants");
async function getLayouts() {
    return new Promise(function (resolve, reject) {
        var options = {
            uri: config_1.layoutEndpoint,
            json: false
        };
        rp(options)
            .then(function (data) {
            const layouts = JSON.parse(data);
            if (!layouts) {
                resolve(constants_1.defaultLayouts);
            }
            resolve(layouts);
        })
            .catch(function (error) {
            resolve(constants_1.defaultLayouts);
        });
    });
}
exports.getLayouts = getLayouts;
async function getLayoutsImages() {
    return new Promise(function (resolve, reject) {
        var options = {
            uri: config_1.layoutImageEndpoint,
            json: false
        };
        rp(options)
            .then(function (data) {
            const layoutsImages = JSON.parse(data);
            if (!layoutsImages) {
                resolve(constants_1.defaultLayoutsImages);
            }
            resolve(layoutsImages);
        })
            .catch(function (error) {
            resolve(constants_1.defaultLayoutsImages);
        });
    });
}
exports.getLayoutsImages = getLayoutsImages;
module.exports = {
    getLayouts,
    getLayoutsImages
};
